(this["webpackJsonppoker-calc-react"]=this["webpackJsonppoker-calc-react"]||[]).push([[0],{10:function(e,a,r){e.exports={baseProb:"Probability_baseProb__zinwV",pokerHandName:"Probability_pokerHandName__3QcyD",pokerHand:"Probability_pokerHand__Nfxp_",players:"Probability_players__2b13S",select:"Probability_select__xBno7"}},13:function(e,a,r){e.exports={cardSelection:"CardSelection_cardSelection__qWaGl",cardValues:"CardSelection_cardValues__1PV_6",cardSuits:"CardSelection_cardSuits__27poA",close:"CardSelection_close__2JTPC"}},14:function(e,a,r){e.exports={cardsWrapper:"YourHand_cardsWrapper__2K5GC",raund:"YourHand_raund__ingLH",wrapper:"YourHand_wrapper__rsuda",clearBtn:"YourHand_clearBtn__2JpZC",activeBlock:"YourHand_activeBlock__366vX"}},22:function(e,a,r){e.exports={wrapper:"Calc_wrapper__2eoO1",calcWrapper:"Calc_calcWrapper__1jgW5",copyrights:"Calc_copyrights__3iauX"}},27:function(e,a,r){e.exports={card:"CardIMG_card__1UNMM",active:"CardIMG_active__2WiZw"}},33:function(e,a,r){e.exports=r.p+"static/media/cards.a860bea4.jpg"},34:function(e,a,r){e.exports={wrapper:"ClearBTN_wrapper__1olEx"}},36:function(e,a,r){e.exports=r(55)},41:function(e,a,r){},42:function(e,a,r){},55:function(e,a,r){"use strict";r.r(a);var t=r(0),c=r.n(t),n=r(17),l=r.n(n),s=(r(41),r(42),r(2)),o=r(18),d=r(19),i=r(21),u=r(20),m=r(22),p=r.n(m),C=r(9),b=r.n(C),h=r(27),v=r.n(h),_=r(33),g=r.n(_),y=function(e){var a=0-42.51*e.cardId;return c.a.createElement("div",{className:"".concat(v.a.card," ").concat(e.active&&v.a.active),style:{backgroundImage:"url(".concat(g.a,")"),backgroundPositionX:a}})},D=Object(s.b)((function(e){return{}}),{})(y),f=function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"qwer",onClick:function(){e.selectCard(e.setName,e.itemNumber),e.changeValue(e.cardId),e.changeSuit(0===e.cardId?53:4*(e.cardId/4-Math.trunc(e.cardId/4-.25))+52)}},c.a.createElement(D,{cardId:e.cardId,active:e.active})))},k=r(8),E=r(3),S=r(1),N=r(4),H={pokerHands:[{name:"totalGames",viewName:"totalGames",value:0},{name:"base",viewName:"base",wins:0,currentProb:"-"},{name:"High_Card",viewName:"High Card",wins:0,currentProb:"-"},{name:"One_Pair",viewName:"One Pair",wins:0,currentProb:"-"},{name:"Two_Pair",viewName:"Two Pair",wins:0,currentProb:"-"},{name:"Three_of_a_Kind",viewName:"Three of a Kind",wins:0,currentProb:"-"},{name:"Straight",viewName:"Straight",wins:0,currentProb:"-"},{name:"Flush",viewName:"Flush",wins:0,currentProb:"-"},{name:"Full_House",viewName:"Full House",wins:0,currentProb:"-"},{name:"Four_of_a_Kind",viewName:"Four of a Kind",wins:0,currentProb:"-"},{name:"Straight_Flush",viewName:"Straight Flush",wins:0,currentProb:"-"},{name:"Royal_Flush",viewName:"Royal Flush",wins:0,currentProb:"-"}],isCalculations:!0,fullCardDeck:[],currentCardDeck:[],communityCards:{set:[],activeItem:null},handCards:{set:[],activeItem:null},cardSelectionDialog:{selectedValue:49,selectedSuit:53,visibleFor:null},raund:"pre-flop",playersNumber:5},O=function(e,a){return{type:"SELECT_CARD",setName:e,itemNumber:a}},I=function(e){return{type:"CHANGE_VALUE",cardId:e}},j=function(e){return{type:"CHANGE_SUIT",cardId:e}},w=function(e){return{type:"CHANGE_CARD",cardId:e}},P=function(){return{type:"UPDATE_CURRENT_DECK"}},A=function(){return{type:"CLEAR_POKER_HANDS_DATA"}},F=function(e){return{type:"UPDATE_PROBABILITIES",gamesData:e}},R=function(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"INIT_CARD_DECK":console.log("".concat(r.type));var t=Object(S.a)({},a,{fullCardDeck:function(){for(var e=[],a=1;a<=52;a++)e.push(a);return e}()});return t.currentCardDeck=Object(E.a)(t.fullCardDeck),t;case"SELECT_CARD":return console.log("".concat(r.type," ").concat(r.setName," ").concat(r.itemNumber)),Object(S.a)({},a,(e={},Object(k.a)(e,r.setName,Object(S.a)({},a[r.setName],{activeItem:r.itemNumber})),Object(k.a)(e,"cardSelectionDialog",Object(S.a)({},a.cardSelectionDialog,{visibleFor:r.setName})),e));case"CHANGE_VALUE":return console.log("".concat(r.type," ").concat(r.cardId)),Object(S.a)({},a,{cardSelectionDialog:Object(S.a)({},a.cardSelectionDialog,{selectedValue:r.cardId})});case"CHANGE_SUIT":return console.log("".concat(r.type," ").concat(r.cardId)),Object(S.a)({},a,{cardSelectionDialog:Object(S.a)({},a.cardSelectionDialog,{selectedSuit:r.cardId})});case"CHANGE_CARD":console.log("".concat(r.type," ").concat(r.cardId));var c=Object(S.a)({},a,Object(k.a)({},a.cardSelectionDialog.visibleFor,Object(S.a)({},a[a.cardSelectionDialog.visibleFor],{set:Object(E.a)(a[a.cardSelectionDialog.visibleFor].set)})));return c[a.cardSelectionDialog.visibleFor].set[a[a.cardSelectionDialog.visibleFor].activeItem-1]=r.cardId,c.pokerHands=Object(E.a)(a.pokerHands),c.pokerHands[0]=Object(S.a)({},a.pokerHands[0]),c.pokerHands[0].currentProb=0,c;case"CLOSE_CARD_SELECTION_DIALOG":return console.log("".concat(r.type)),Object(S.a)({},a,{cardSelectionDialog:Object(S.a)({},a.cardSelectionDialog,{visibleFor:null})});case"TAMP_CARDS":console.log("".concat(r.type));var n=Object(S.a)({},a,{communityCards:Object(S.a)({},a.communityCards,{set:Object(E.a)(a.communityCards.set),activeItem:null}),handCards:Object(S.a)({},a.handCards,{set:Object(E.a)(a.handCards.set),activeItem:null})});return Object(N.pull)(n.communityCards.set,0,void 0),Object(N.pull)(n.handCards.set,0,void 0),n;case"UPDATE_CURRENT_DECK":console.log("".concat(r.type));var l=Object(S.a)({},a,{currentCardDeck:Object(E.a)(a.fullCardDeck)});return Object(N.pullAll)(l.currentCardDeck,a.communityCards.set.concat(a.handCards.set)),l;case"SHOW_RAUND":return console.log("".concat(r.type)),Object(S.a)({},a,{raund:function(){switch(a.communityCards.set.length){case 3:return"flop";case 4:return"turn";case 5:return"river";default:return"pre-flop"}}()});case"CLEAR_CARD_SET":console.log("".concat(r.type," ").concat(r.setNames));for(var s=Object(S.a)({},a,{communityCards:Object(S.a)({},a.communityCards),handCards:Object(S.a)({},a.handCards)}),o=0;o<r.setNames.length;o++)s[r.setNames[o]].set=[],s[r.setNames[o]].activeItem=null;return s.isCalculations=!0,s;case"CLEAR_POKER_HANDS_DATA":console.log("".concat(r.type));for(var d=Object(S.a)({},a,{pokerHands:Object(E.a)(a.pokerHands)}),i=0;i<d.pokerHands.length;i++)d.pokerHands[i]=Object(S.a)({},a.pokerHands[i]);for(var u=0;u<d.pokerHands.length;u++)0===u?d.pokerHands[u].value=0:d.pokerHands[u].wins=0,d.pokerHands[u].currentProb=0;return d.isCalculations=!0,d;case"UPDATE_PROBABILITIES":console.log("".concat(r.type," ").concat(r.gamesData));for(var m=Object(S.a)({},a,{pokerHands:Object(E.a)(a.pokerHands)}),p=0;p<=11;p++)m.pokerHands[p]=Object(S.a)({},a.pokerHands[p]);for(var C in m.pokerHands[0].value+=r.gamesData.totalGames,m.pokerHands[0].value>=1e5&&(m.isCalculations=!1),r.gamesData)"totalGames"!==C&&(m.pokerHands[1].wins+=r.gamesData[C]);for(var b=2;b<=11;b++)for(var h in r.gamesData)m.pokerHands[b].name===h&&(m.pokerHands[b].wins+=r.gamesData[h]);for(var v=1;v<=11;v++)m.pokerHands[v].currentProb=Math.round(m.pokerHands[v].wins/m.pokerHands[0].value*100);return m;case"CHANGE_PLAYERS_NUMBER":return Object(S.a)({},a,{playersNumber:r.playersNumber});default:return a}},T={selectCard:O,changeValue:I,changeSuit:j},V=Object(s.b)((function(e){return{}}),T)(f),G=r(13),B=r.n(G),K=function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{onClick:function(a){e.changeValue(e.cardId),e.changeCard(e.cardId),e.updateCurrentDeck(),e.clearPokerHandsData(),a.stopPropagation()}},c.a.createElement(D,{cardId:e.cardId,active:e.active})))},L={changeValue:I,changeCard:w,updateCurrentDeck:P,clearPokerHandsData:A},x=Object(s.b)((function(e){return{}}),L)(K),M=function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{onClick:function(a){e.changeSuit(e.cardId);var r=4*(e.cardValue/4-Math.trunc(e.cardValue/4-.25))+52;-1===e.currentCardDeck.indexOf(e.cardValue+(e.cardId-r))?(e.changeValue(0),e.changeCard(0)):(e.changeValue(0===e.cardValue?e.cardValue:e.cardValue+(e.cardId-r)),e.changeCard(0===e.cardValue?e.cardValue:e.cardValue+(e.cardId-r))),e.updateCurrentDeck(),e.clearPokerHandsData(),a.stopPropagation()}},c.a.createElement(D,{cardId:e.cardId,active:e.active})))},W={changeValue:I,changeSuit:j,changeCard:w,updateCurrentDeck:P,clearPokerHandsData:A},U=Object(s.b)((function(e){return{cardValue:e.calc[e.calc.cardSelectionDialog.visibleFor].set[e.calc[e.calc.cardSelectionDialog.visibleFor].activeItem-1],currentCardDeck:e.calc.currentCardDeck}}),W)(M),J=function(e){for(var a=function(a){return 52===e.selectedSuit?4*a-(52-e.selectedSuit)-3:4*a-(52-e.selectedSuit)-4},r=[],t=13;t>=1;t--)r.push(c.a.createElement(x,{key:t,active:e.selectedValue===a(t),cardId:-1!==e.currentCardDeck.indexOf(a(t))||e.selectedValue===a(t)?a(t):0}));r.push(c.a.createElement(x,{key:0,active:0===e.selectedValue&&!0,cardId:0}));for(var n=[],l=53;l<=56;l++)n.push(c.a.createElement(U,{key:l,active:52===e.selectedSuit?e.selectedSuit+1===l&&!0:e.selectedSuit===l&&!0,cardId:l}));return c.a.createElement("div",{onClick:function(){e.closeCardSelectionDialog(),e.tampCards(),e.showRaund()},className:B.a.cardSelection},c.a.createElement("div",{className:B.a.close}," "),c.a.createElement("div",{className:B.a.cardValues},r),c.a.createElement("div",{className:B.a.cardSuits},n))},Y={closeCardSelectionDialog:function(){return{type:"CLOSE_CARD_SELECTION_DIALOG"}},tampCards:function(){return{type:"TAMP_CARDS"}},showRaund:function(){return{type:"SHOW_RAUND"}}},Q=Object(s.b)((function(e){return{selectedValue:e.calc.cardSelectionDialog.selectedValue,selectedSuit:e.calc.cardSelectionDialog.selectedSuit,currentCardDeck:e.calc.currentCardDeck}}),Y)(J),q=r(34),z=r.n(q),X=function(e){return c.a.createElement("div",{className:z.a.wrapper,onClick:function(){e.visibleFor||(e.clearCardSet(e.clearFor),e.updateCurrentDeck(),e.clearPokerHandsData())}},e.children)},Z={clearCardSet:function(e){return{type:"CLEAR_CARD_SET",setNames:e}},updateCurrentDeck:P,clearPokerHandsData:A},$=Object(s.b)((function(e){return{visibleFor:e.calc.cardSelectionDialog.visibleFor}}),Z)(X),ee=function(e){for(var a=[],r=1;r<=5;r++)e.communityCards.set[r-1]?a.push(c.a.createElement(V,{key:r,cardId:e.communityCards.set[r-1],active:e.communityCards.activeItem===r&&!0,setName:"communityCards",itemNumber:r})):a.push(c.a.createElement(V,{key:r,cardId:0,active:e.communityCards.activeItem===r&&!0,setName:"communityCards",itemNumber:r}));return c.a.createElement("div",{className:b.a.wrapper},c.a.createElement("h3",null,"Community cards"),c.a.createElement("div",{className:"".concat(b.a.cardsWrapper," ").concat("communityCards"===e.visibleFor&&b.a.activeBlock)},c.a.createElement("div",{className:b.a.clearBtn},c.a.createElement($,{clearFor:["communityCards"]},"clear")),a),"communityCards"===e.visibleFor&&c.a.createElement(Q,null),c.a.createElement("p",{className:b.a.raund},e.raund))},ae=Object(s.b)((function(e){return{communityCards:e.calc.communityCards,visibleFor:e.calc.cardSelectionDialog.visibleFor,raund:e.calc.raund}}),{})(ee),re=r(14),te=r.n(re),ce=function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"qwer",onClick:function(){e.selectCard(e.setName,e.itemNumber),e.changeValue(e.cardId),e.changeSuit(0===e.cardId?53:4*(e.cardId/4-Math.trunc(e.cardId/4-.25))+52)}},c.a.createElement(D,{cardId:e.cardId,active:e.active})))},ne={selectCard:O,changeValue:I,changeSuit:j},le=Object(s.b)((function(e){return{}}),ne)(ce),se=function(e){for(var a=[],r=1;r<=2;r++)e.handCards.set[r-1]>0?a.push(c.a.createElement(le,{key:r,cardId:e.handCards.set[r-1],active:e.handCards.activeItem===r&&!0,setName:"handCards",itemNumber:r})):a.push(c.a.createElement(le,{key:r,cardId:0,active:e.handCards.activeItem===r&&!0,setName:"handCards",itemNumber:r}));return c.a.createElement("div",{className:te.a.wrapper},c.a.createElement("h3",null,"Your hand"),c.a.createElement("div",{className:"".concat(te.a.cardsWrapper," ").concat("handCards"===e.visibleFor&&te.a.activeBlock)},c.a.createElement("div",{className:te.a.clearBtn},c.a.createElement($,{clearFor:["handCards"]},"clear")),a),"handCards"===e.visibleFor&&c.a.createElement(Q,null))},oe=Object(s.b)((function(e){return{handCards:e.calc.handCards,visibleFor:e.calc.cardSelectionDialog.visibleFor}}),{})(se),de=r(10),ie=r.n(de),ue=r(35),me=r.n(ue),pe=function(e){Object(i.a)(r,e);var a=Object(u.a)(r);function r(){var e;Object(o.a)(this,r);for(var t=arguments.length,c=new Array(t),n=0;n<t;n++)c[n]=arguments[n];return(e=a.call.apply(a,[this].concat(c))).getRandomInt=function(e){return Math.floor(Math.random()*Math.floor(e))},e.cards={cardTypes:["2H","2C","2D","2S","3H","3C","3D","3S","4H","4C","4D","4S","5H","5C","5D","5S","6H","6C","6D","6S","7H","7C","7D","7S","8H","8C","8D","8S","9H","9C","9D","9S","10H","10C","10D","10S","JH","JC","JD","JS","QH","QC","QD","QS","KH","KC","KD","KS","AH","AC","AD","AS"],boardCards:[],playerCards:[{playerId:1,cards:[]}],currentCardDeck:[]},e.gamesData={totalGames:0,High_Card:0,One_Pair:0,Two_Pair:0,Three_of_a_Kind:0,Straight:0,Flush:0,Full_House:0,Four_of_a_Kind:0,Straight_Flush:0,Royal_Flush:0},e.setupCards=function(){var a=function(a){return Object(N.pull)(e.cards.currentCardDeck,a),a};e.cards.currentCardDeck=Object(E.a)(e.cards.cardTypes),function(){e.cards.boardCards=[];for(var a=0;a<e.props.communityCardSet.length;a++)e.cards.boardCards.push(e.cards.cardTypes[e.props.communityCardSet[a]-1]);Object(N.pullAll)(e.cards.boardCards,[null,void 0])}(),function(){e.cards.playerCards=[],e.cards.playerCards.push({playerId:0,cards:[]});for(var a=0;a<e.props.handCardSet.length;a++)e.cards.playerCards[0].cards.push(e.cards.cardTypes[e.props.handCardSet[a]-1]);Object(N.pullAll)(e.cards.playerCards[0].cards,[null,void 0])}(),Object(N.pullAll)(e.cards.currentCardDeck,e.cards.boardCards.concat(e.cards.playerCards[0].cards)),function(){for(var r=e.cards.boardCards.length;r<5;r++)e.cards.boardCards.push(a(e.cards.currentCardDeck[e.getRandomInt(e.cards.currentCardDeck.length)]))}(),function(){for(var r=e.cards.playerCards[0].cards.length;r<2;r++)e.cards.playerCards[0].cards.push(a(e.cards.currentCardDeck[e.getRandomInt(e.cards.currentCardDeck.length)]));for(var t=1;t<e.props.playersNumber;t++){e.cards.playerCards.push({playerId:t,cards:[]});for(var c=0;c<2;c++)e.cards.playerCards[t].cards.push(a(e.cards.currentCardDeck[e.getRandomInt(e.cards.currentCardDeck.length)]))}}()},e.playGamesAsync=function(a){var r=[];!function t(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e.setupCards();var n=me.a.getHoldemWinner({boardCards:e.cards.boardCards,playerCards:e.cards.playerCards},{compactCards:!0});e.gamesData.totalGames++;var l=1===n.length?1:.5;if(0===n[0].playerId)switch(n[0].hand.handInfo.type){case"High Card":e.gamesData.High_Card+=l;break;case"One Pair":e.gamesData.One_Pair+=l;break;case"Two Pair":e.gamesData.Two_Pair+=l;break;case"Three of a Kind":e.gamesData.Three_of_a_Kind+=l;break;case"Straight":e.gamesData.Straight+=l;break;case"Flush":e.gamesData.Flush+=l;break;case"Full House":e.gamesData.Full_House+=l;break;case"Four of a Kind":e.gamesData.Four_of_a_Kind+=l;break;case"Straight Flush":e.gamesData.Straight_Flush+=l;break;case"Royal Flush":e.gamesData.Royal_Flush+=l}if(c<99)r.push(setTimeout(t,0,c+1));else{for(var s=0;s<r.length;s++)clearTimeout(r[s]);setTimeout(a,0,e.gamesData)}}()},e}return Object(d.a)(r,[{key:"componentDidUpdate",value:function(e,a,r){for(var t in this.setupCards(),this.gamesData)this.gamesData[t]=0;this.props.isCalculations&&this.playGamesAsync(this.props.updateProbabilities)}},{key:"render",value:function(){for(var e=this,a=[],r=2;r<=11;r++)a.push(c.a.createElement("li",{key:r,className:ie.a.pokerHand},c.a.createElement("span",{className:ie.a.pokerHandName},this.props.pokerHands[r].viewName),c.a.createElement("span",null,this.props.pokerHands[r].currentProb,"%")));for(var t=[],n=2;n<=9;n++)this.props.playersNumber===n?t.push(c.a.createElement("option",{value:n,selected:!0},n)):t.push(c.a.createElement("option",{value:n},n));return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:ie.a.players},c.a.createElement("p",null,"Calculate for"),c.a.createElement("select",{className:ie.a.select,name:"playersCount",onChange:function(a){e.props.changePlayersNumber(a.target.value),e.props.clearPokerHandsData()}},t),c.a.createElement("span",null,"players")),c.a.createElement("h3",{className:ie.a.baseProb},c.a.createElement("span",null,"winning"),c.a.createElement("span",null,this.props.pokerHands[1].currentProb,"%")),c.a.createElement("div",null,c.a.createElement("h4",null,"winning with"),c.a.createElement("ul",null,a)))}}]),r}(c.a.Component),Ce={updateProbabilities:F,changePlayersNumber:function(e){return{type:"CHANGE_PLAYERS_NUMBER",playersNumber:e}},clearPokerHandsData:A},be=Object(s.b)((function(e){return{pokerHands:e.calc.pokerHands,playersNumber:e.calc.playersNumber,communityCardSet:e.calc.communityCards.set,handCardSet:e.calc.handCards.set,isCalculations:e.calc.isCalculations}}),Ce)(pe),he=function(e){Object(i.a)(r,e);var a=Object(u.a)(r);function r(){return Object(o.a)(this,r),a.apply(this,arguments)}return Object(d.a)(r,[{key:"componentDidMount",value:function(){this.props.initCardDeck()}},{key:"render",value:function(){return c.a.createElement("div",{className:p.a.wrapper},c.a.createElement("div",{className:p.a.calcWrapper},c.a.createElement(ae,null),c.a.createElement(oe,null),c.a.createElement(be,null),c.a.createElement("div",{className:p.a.copyrights},c.a.createElement("p",null,"\xa9 developed by Eugene Komarov 2020"),c.a.createElement("p",null,"uses React, Redux, poker-calc libraries"))))}}]),r}(c.a.Component),ve={initCardDeck:function(){return{type:"INIT_CARD_DECK"}},updateProbabilities:F},_e=Object(s.b)((function(e){return{}}),ve)(he);var ge=function(){return c.a.createElement("main",null,c.a.createElement(_e,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ye=r(12),De=Object(ye.b)({calc:R}),fe=Object(ye.c)(De);l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(s.a,{store:fe},c.a.createElement(ge,null))),document.getElementById("root")),window.state=fe.getState,"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,a,r){e.exports={cardsWrapper:"CommunityCards_cardsWrapper__3GSo4",raund:"CommunityCards_raund__2PAGx",wrapper:"CommunityCards_wrapper__14z8i",clearBtn:"CommunityCards_clearBtn__17BNx",activeBlock:"CommunityCards_activeBlock__bubzR"}}},[[36,1,2]]]);
//# sourceMappingURL=main.c2ac6ff7.chunk.js.map